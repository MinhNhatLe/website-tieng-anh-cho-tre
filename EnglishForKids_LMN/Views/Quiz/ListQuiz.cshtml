@model PagedList.IPagedList<EnglishForKids_LMN.Models.Quiz>
@using PagedList.Mvc;
@using PagedList;
@{ ViewBag.Title = "ListQuiz";
                Layout = "~/Views/Shared/_LayoutAdmin.cshtml"; }

<style>

</style>
<div class="container">
    <div class="row">
        <div class="col-lg-12 col-xs-12">
            <h2 style="text-align: center; font-size: 30px; font-weight: 600;">
                DANH SÁCH CÂU ĐỐ
            </h2>
        </div>
    </div>
<br />
@using (Html.BeginForm("ListQuiz", "Quiz", FormMethod.Post))
{
    <div class="row">
            <div class="col-lg-5 col-xs-0">

            </div>
            <div class="col-lg-7 col-xs-12">
                <label>Tìm kiếm và sắp xếp:</label>
                <select id="sortQuiz" name="sortQuiz" class="form-control center-block" style="width:105px;display:inline-block">
                    <option for="sortQuiz" id="sortQuiz" name="sortQuiz" value="@Session["sortQuiz"]">@Session["sortQuiz"]</option>
                    <option for="sortQuiz" id="sortQuiz" name="sortQuiz" value="None">None</option>
                    <option for="sortQuiz" id="sortQuiz" name="sortQuiz" value="AZ">A - Z</option>
                    <option for="sortQuiz" id="sortQuiz" name="sortQuiz" value="ZA">Z - A</option>
                </select>
                <input type="text" id="searchQuiz" name="searchQuiz" class="form-control" placeholder="Nhập từ khóa để tìm kiếm ..." value="@Session["searchQuiz"]" required style="display: inline-block; width: 250px"/>
                <input type="submit" value="Tìm" class="btn btn-primary" style="width:90px;display:inline-block" />
            </div>
        </div>
        <br />
        <div class="row">
            <div class="col-lg-12 col-xs-12">
                <a href="@Url.Action("CreateQ", "Quiz")" class="btn btn-default btn-taomoi-reponsive">Thêm câu đố</a>
            </div>
        </div>
<hr />
<div class="row">
    <table class="table-hover table table-responsive tr">
        <caption class="caption">Danh sách câu đố</caption>
        <tr>
            <th style=" text-align: center;">STT</th>
            <th style=" text-align: center;">Tên câu đố</th>
            <th style=" text-align: center;">Chức năng</th>
        </tr>
        @foreach (var item in Model)
        {
<tr class="search-list">
    <td style=" text-align: center;">@item.ID_Quiz</td>
    <td style=" text-align: center;">@item.Name_Quiz</td>
    <td style=" text-align: center;">
        @*@Html.ActionLink("Sửa", "EditQ", new { id = item.ID_Quiz }) |
        @Html.ActionLink("Chi tiết", "Do_DragDrop_Quiz", new { id = item.ID_Quiz }) |
        @Html.ActionLink("Xóa", "DeleteQ", new { id = item.ID_Quiz })*@
        <a href="@Url.Action("EditQ", "Quiz", new { id = item.ID_Quiz })" class="btn btn-primary" style="width:80px;">Sửa</a>
        <a href="@Url.Action("Do_DragDrop_Quiz", "Quiz", new { id = item.ID_Quiz })" class="btn btn-primary" style="width:80px;">Chi tiết</a>
        <a href="@Url.Action("DeleteQ", "Quiz", new { id = item.ID_Quiz })" class="btn btn-primary" style="width:80px;">Xóa</a>
    </td>
</tr>
        }
    </table>
</div>
    <div class="row">
        <div class="col-lg-12 col-xs-12">
            <div style="margin-top:50px">
                <div>
                    Trang @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) / @Model.PageCount
                </div>
                <div>
                    @if (Session["searchQuiz"] != null)
                    {
            @Html.PagedListPager(Model, page => Url.Action("ListQuiz", new { page = page, searchQuiz = Session["searchQuiz"], sortQuiz = Session["sortQuiz"] })) }
        else
        {
            @Html.PagedListPager(Model, page => Url.Action("ListQuiz", new { page = page }))}
                </div>
            </div>
        </div>
    </div>
                @*<div>
                    @Html.ActionLink("Tạo mới", "CreateQ", "Quiz", new { @class = "btn btn-default" })
                    <input type="submit" value="Tìm" class="btn btn-primary pull-right" style="width:50px;" />
                    <input type="text" id="searchQuiz" name="searchQuiz" class="form-control pull-right" placeholder="Nhập từ khóa để tìm ..." value="@Session["searchQuiz"]" required />
                    <label class="pull-right"> | </label>
                    <select id="sortQuiz" name="sortQuiz" class="form-control center-block pull-right" style="width:10%;max-width:10%;">
                        <option for="sortQuiz" id="sortQuiz" name="sortQuiz" value="@Session["sortQuiz"]">@Session["sortQuiz"]</option>
                        <option for="sortQuiz" id="sortQuiz" name="sortQuiz" value="None">None</option>
                        <option for="sortQuiz" id="sortQuiz" name="sortQuiz" value="AZ">A - Z</option>
                        <option for="sortQuiz" id="sortQuiz" name="sortQuiz" value="ZA">Z - A</option>
                    </select>
                    <label class="pull-right">Tìm kiếm và sắp xếp : </label>
                </div>
                                <br />
                                                <hr />
                                                                <table class="table-hover table table-responsive tr">
                                                                    <caption class="caption">Danh sách câu đố</caption>
                                                                    <tr>
                                                                        <th>ID</th>
                                                                        <th>Tên câu đố</th>
                                                                        <th></th>
                                                                    </tr>
                                                                    @foreach (var item in Model)
                                                                    {
                                                    <tr class="search-list">
                                                        <td>@item.ID_Quiz</td>
                                                        <td>@item.Name_Quiz</td>
                                                        <td>
                                                            @Html.ActionLink("Sửa", "EditQ", new { id = item.ID_Quiz }) |
                                                            @Html.ActionLink("Chi tiết", "Do_DragDrop_Quiz", new { id = item.ID_Quiz }) |
                                                            @Html.ActionLink("Xóa", "DeleteQ", new { id = item.ID_Quiz })
                                                        </td>
                                                    </tr>
}
                                                                </table>
                                                                                                <div>
                                                                                                    Page @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) / @Model.PageCount
                                                                                                </div>
                                                                                                                <div>
                                                                                                                    @if (Session["searchQuiz"] != null)
                                                                                                                    {
                                                                                                    @Html.PagedListPager(Model, page => Url.Action("ListQuiz", new { page = page, searchQuiz = Session["searchQuiz"], sortQuiz = Session["sortQuiz"] })) }
                                                                                                else
                                                                                                {
                                                                                @Html.PagedListPager(Model, page => Url.Action("ListQuiz", new { page = page }))}
                                                                                                                </div>*@
    <script src="~/Scripts/jquery-3.4.1.min.js"></script>
}
</div>