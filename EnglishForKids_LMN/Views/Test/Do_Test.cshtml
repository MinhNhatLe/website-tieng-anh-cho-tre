@model IEnumerable<EnglishForKids_LMN.Models.Question>
@using EnglishForKids_LMN.Models;
@{
    ViewBag.Title = "Do_Test";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@{
    List<Question> questions2 = Session["questions2"] as List<Question>;
    List<Question> questions3 = Session["questions3"] as List<Question>;
    List<Question> questions4 = Session["questions4"] as List<Question>;
    List<Question> questions5 = Session["questions5"] as List<Question>;
}



@{
    var endTime = DateTime.UtcNow.AddSeconds(301);
    var timeRemaining = TimeSpan.FromTicks(endTime.Ticks - DateTime.UtcNow.Ticks).TotalSeconds;
}
<style>
    .background-test {
        padding: 20px;
        background-color: #fff;
        border: 10px; /* Viền của cái khối */
        border-color: rgb(0 0 0 / 2%);
        border-style: solid;
        margin-top: 10px;
        margin-bottom: 10px;
        border-radius: 20px;
        box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);
    }
</style>
<div class="container">
    @using (Html.BeginForm("Do_Test", "Test", FormMethod.Post))
    {
        <div class="row background-test">
            <div class="row">
                <div class="col-lg-2 col-xs-0">

                </div>
                <div class="col-lg-8 col-xs-12">
                    <div class="row">
                        <div class="col-lg-12 col-xs-12">

                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-6 col-xs-6">
                            <div>
                                <div>Thời gian làm bài: <span id="minRemaining"></span>:<span id="secRemaining"></span></div>
                            </div>
                        </div>
                        <div class="col-lg-6 col-xs-6">

                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-12 col-xs-12">
                            <div class="mydiv" style="width:100%;max-width:100%;">
                                <p>Question 1: @questions2[0].Content</p>
                                <p><input type="radio" name="choice1" id="choice1" value="@questions2[0].Answer_Content1" /> @questions2[0].Answer_Content1</p>
                                <p><input type="radio" name="choice1" id="choice1" value="@questions2[0].Answer_Content2" /> @questions2[0].Answer_Content2</p>
                                <p><input type="radio" name="choice1" id="choice1" value="@questions2[0].Answer_Content3" /> @questions2[0].Answer_Content3</p>
                                <p><input type="radio" name="choice1" id="choice1" value="@questions2[0].Answer_Content4" /> @questions2[0].Answer_Content4</p>
                            </div>


                            <div class="mydiv" style="width:100%;max-width:100%;">
                                <p>Question 2: @questions2[1].Content</p>
                                <p><input type="radio" name="choice2" id="choice2" value="@questions2[1].Answer_Content1" /> @questions2[1].Answer_Content1</p>
                                <p><input type="radio" name="choice2" id="choice2" value="@questions2[1].Answer_Content2" /> @questions2[1].Answer_Content2</p>
                                <p><input type="radio" name="choice2" id="choice2" value="@questions2[1].Answer_Content3" /> @questions2[1].Answer_Content3</p>
                                <p><input type="radio" name="choice2" id="choice2" value="@questions2[1].Answer_Content4" /> @questions2[1].Answer_Content4</p>
                            </div>

                            <div class="mydiv" style="width:100%;max-width:100%;">
                                <p>Question 3: @questions2[2].Content</p>
                                <p><input type="radio" name="choice3" id="choice3" value="@questions2[2].Answer_Content1" /> @questions2[2].Answer_Content1</p>
                                <p><input type="radio" name="choice3" id="choice3" value="@questions2[2].Answer_Content2" /> @questions2[2].Answer_Content2</p>
                                <p><input type="radio" name="choice3" id="choice3" value="@questions2[2].Answer_Content3" /> @questions2[2].Answer_Content3</p>
                                <p><input type="radio" name="choice3" id="choice3" value="@questions2[2].Answer_Content4" /> @questions2[2].Answer_Content4</p>
                            </div>


                            <div class="mydiv" style="width:100%;max-width:100%;">
                                <p>Question 4: @questions3[0].Content</p>
                                <p>Enter answer : <input type="text" name="text1" id="text1" style="width:100px;" /></p>
                            </div>

                            <div class="mydiv" style="width:100%;max-width:100%;">
                                <p>Question 5: @questions3[1].Content</p>
                                <p>Enter answer : <input type="text" name="text2" id="text2" style="width:100px;" /></p>
                            </div>

                            <div class="mydiv" style="width:100%;max-width:100%;">
                                <p>Question 6: @questions3[2].Content</p>
                                <p>Enter answer : <input type="text" name="text2" id="text2" style="width:100px;" /></p>
                            </div>

                            <div class="mydiv" style="width:100%;max-width:100%;">
                                <pre id="question_paragraph" style="text-align:center;">

                                </pre>
                            </div>

                            <div class="mydiv" style="width:100%;max-width:100%;">
                                <p>Question 7: @questions4[0].Content</p>
                                <p><input type="radio" name="choice4" id="choice4" value="@questions4[0].Answer_Content1" /> @questions4[0].Answer_Content1</p>
                                <p><input type="radio" name="choice4" id="choice4" value="@questions4[0].Answer_Content2" /> @questions4[0].Answer_Content2</p>
                                <p><input type="radio" name="choice4" id="choice4" value="@questions4[0].Answer_Content3" /> @questions4[0].Answer_Content3</p>
                                <p><input type="radio" name="choice4" id="choice4" value="@questions4[0].Answer_Content4" /> @questions4[0].Answer_Content4</p>
                            </div>

                            <div class="mydiv" style="width:100%;max-width:100%;">
                                <p>Question 8: @questions4[1].Content</p>
                                <p><input type="radio" name="choice5" id="choice5" value="@questions4[1].Answer_Content1" /> @questions4[1].Answer_Content1</p>
                                <p><input type="radio" name="choice5" id="choice5" value="@questions4[1].Answer_Content2" /> @questions4[1].Answer_Content2</p>
                                <p><input type="radio" name="choice5" id="choice5" value="@questions4[1].Answer_Content3" /> @questions4[1].Answer_Content3</p>
                                <p><input type="radio" name="choice5" id="choice5" value="@questions4[1].Answer_Content4" /> @questions4[1].Answer_Content4</p>
                            </div>

                            <div class="mydiv" style="width:100%;max-width:100%;;">
                                <video style="width:100%;height:35vh;" controls>
                                    <source src="~/Content/video/@Session["video"]" type="video/mp4" />
                                </video>
                            </div>

                            <div class="mydiv" style="width:100%;max-width:100%;">
                                <p>Question 9: @questions5[0].Content</p>
                                <p><input type="radio" name="choice6" id="choice6" value="@questions5[0].Answer_Content1" /> @questions5[0].Answer_Content1</p>
                                <p><input type="radio" name="choice6" id="choice6" value="@questions5[0].Answer_Content2" /> @questions5[0].Answer_Content2</p>
                                <p><input type="radio" name="choice6" id="choice6" value="@questions5[0].Answer_Content3" /> @questions5[0].Answer_Content3</p>
                                <p><input type="radio" name="choice6" id="choice6" value="@questions5[0].Answer_Content4" /> @questions5[0].Answer_Content4</p>
                            </div>

                            <div class="mydiv" style="width:100%;max-width:100%;">
                                <p>Question 10: @questions5[1].Content</p>
                                <p><input type="radio" name="choice7" id="choice7" value="@questions5[1].Answer_Content1" /> @questions5[1].Answer_Content1</p>
                                <p><input type="radio" name="choice7" id="choice7" value="@questions5[1].Answer_Content2" /> @questions5[1].Answer_Content2</p>
                                <p><input type="radio" name="choice7" id="choice7" value="@questions5[1].Answer_Content3" /> @questions5[1].Answer_Content3</p>
                                <p><input type="radio" name="choice7" id="choice7" value="@questions5[1].Answer_Content4" /> @questions5[1].Answer_Content4</p>
                            </div>
                        </div>
                    </div>
                    <br />
                    <div class="row">
                        <div class="col-lg-3 col-xs-0">

                        </div>
                        <div class="col-lg-6 col-xs-12" style="text-align:center;">
                            <input type="submit" value="Hoàn thành" class="btn btn-primary" style="width: 100%;" />
                        </div>
                        <div class="col-lg-3 col-xs-0">

                        </div>
                    </div>
                </div>
                <div class="col-lg-2 col-xs-0">

                </div>
            </div>
        </div>
    }
</div>

@*@using (Html.BeginForm("Do_Test", "Test", FormMethod.Post))
{
    <br />
    <br />
    <div class="row">
        <div></div>
        <div class="col-md-12">
            <div>Thời gian làm bài: <span id="minRemaining"></span>:<span id="secRemaining"></span></div>
        </div>
    </div>
    <div class="mydiv" style="width:100%;max-width:100%;">

        <p>Question 1: @questions2[0].Content</p>
        <p><input type="radio" name="choice1" id="choice1" value="@questions2[0].Answer_Content1" /> @questions2[0].Answer_Content1</p>
        <p><input type="radio" name="choice1" id="choice1" value="@questions2[0].Answer_Content2" /> @questions2[0].Answer_Content2</p>
        <p><input type="radio" name="choice1" id="choice1" value="@questions2[0].Answer_Content3" /> @questions2[0].Answer_Content3</p>
        <p><input type="radio" name="choice1" id="choice1" value="@questions2[0].Answer_Content4" /> @questions2[0].Answer_Content4</p>

    </div>


    <div class="mydiv" style="width:100%;max-width:100%;">

        <p>Question 2: @questions2[1].Content</p>
        <p><input type="radio" name="choice2" id="choice2" value="@questions2[1].Answer_Content1" /> @questions2[1].Answer_Content1</p>
        <p><input type="radio" name="choice2" id="choice2" value="@questions2[1].Answer_Content2" /> @questions2[1].Answer_Content2</p>
        <p><input type="radio" name="choice2" id="choice2" value="@questions2[1].Answer_Content3" /> @questions2[1].Answer_Content3</p>
        <p><input type="radio" name="choice2" id="choice2" value="@questions2[1].Answer_Content4" /> @questions2[1].Answer_Content4</p>

    </div>

    <div class="mydiv" style="width:100%;max-width:100%;">

        <p>Question 3: @questions2[2].Content</p>
        <p><input type="radio" name="choice3" id="choice3" value="@questions2[2].Answer_Content1" /> @questions2[2].Answer_Content1</p>
        <p><input type="radio" name="choice3" id="choice3" value="@questions2[2].Answer_Content2" /> @questions2[2].Answer_Content2</p>
        <p><input type="radio" name="choice3" id="choice3" value="@questions2[2].Answer_Content3" /> @questions2[2].Answer_Content3</p>
        <p><input type="radio" name="choice3" id="choice3" value="@questions2[2].Answer_Content4" /> @questions2[2].Answer_Content4</p>

    </div>


    <div class="mydiv" style="width:100%;max-width:100%;">
        <p>Question 4: @questions3[0].Content</p>
        <p>Enter answer : <input type="text" name="text1" id="text1" style="width:100px;" /></p>
    </div>

    <div class="mydiv" style="width:100%;max-width:100%;">
        <p>Question 5: @questions3[1].Content</p>
        <p>Enter answer : <input type="text" name="text2" id="text2" style="width:100px;" /></p>
    </div>

    <div class="mydiv" style="width:100%;max-width:100%;">
        <p>Question 6: @questions3[2].Content</p>
        <p>Enter answer : <input type="text" name="text2" id="text2" style="width:100px;" /></p>
    </div>

    <div class="mydiv" style="width:100%;max-width:100%;">
        <pre id="question_paragraph" style="text-align:center;">

        </pre>
    </div>

    <div class="mydiv" style="width:100%;max-width:100%;">

        <p>Question 7: @questions4[0].Content</p>
        <p><input type="radio" name="choice4" id="choice4" value="@questions4[0].Answer_Content1" /> @questions4[0].Answer_Content1</p>
        <p><input type="radio" name="choice4" id="choice4" value="@questions4[0].Answer_Content2" /> @questions4[0].Answer_Content2</p>
        <p><input type="radio" name="choice4" id="choice4" value="@questions4[0].Answer_Content3" /> @questions4[0].Answer_Content3</p>
        <p><input type="radio" name="choice4" id="choice4" value="@questions4[0].Answer_Content4" /> @questions4[0].Answer_Content4</p>
    </div>

    <div class="mydiv" style="width:100%;max-width:100%;">

        <p>Question 8: @questions4[1].Content</p>
        <p><input type="radio" name="choice5" id="choice5" value="@questions4[1].Answer_Content1" /> @questions4[1].Answer_Content1</p>
        <p><input type="radio" name="choice5" id="choice5" value="@questions4[1].Answer_Content2" /> @questions4[1].Answer_Content2</p>
        <p><input type="radio" name="choice5" id="choice5" value="@questions4[1].Answer_Content3" /> @questions4[1].Answer_Content3</p>
        <p><input type="radio" name="choice5" id="choice5" value="@questions4[1].Answer_Content4" /> @questions4[1].Answer_Content4</p>

    </div>

    <div class="mydiv" style="width:100%;max-width:100%;;">
        <video style="width:100%;height:70vh;" controls>
            <source src="~/Content/video/@Session["video"]" type="video/mp4" />
        </video>
    </div>

    <div class="mydiv" style="width:100%;max-width:100%;">

        <p>Question 9: @questions5[0].Content</p>
        <p><input type="radio" name="choice6" id="choice6" value="@questions5[0].Answer_Content1" /> @questions5[0].Answer_Content1</p>
        <p><input type="radio" name="choice6" id="choice6" value="@questions5[0].Answer_Content2" /> @questions5[0].Answer_Content2</p>
        <p><input type="radio" name="choice6" id="choice6" value="@questions5[0].Answer_Content3" /> @questions5[0].Answer_Content3</p>
        <p><input type="radio" name="choice6" id="choice6" value="@questions5[0].Answer_Content4" /> @questions5[0].Answer_Content4</p>

    </div>

    <div class="mydiv" style="width:100%;max-width:100%;">

        <p>Question 10: @questions5[1].Content</p>
        <p><input type="radio" name="choice7" id="choice7" value="@questions5[1].Answer_Content1" /> @questions5[1].Answer_Content1</p>
        <p><input type="radio" name="choice7" id="choice7" value="@questions5[1].Answer_Content2" /> @questions5[1].Answer_Content2</p>
        <p><input type="radio" name="choice7" id="choice7" value="@questions5[1].Answer_Content3" /> @questions5[1].Answer_Content3</p>
        <p><input type="radio" name="choice7" id="choice7" value="@questions5[1].Answer_Content4" /> @questions5[1].Answer_Content4</p>

    </div>
    <br />
    <input type="submit" value="Submit" class="btn btn-primary" />
}*@
<script src="~/Scripts/jquery-3.4.1.js"></script>
<script src="~/Scripts/jquery.validate.min.js"></script>
<script src="~/Scripts/jquery.validate.unobtrusive.js"></script>
<script src="~/Scripts/jquery-3.4.1.min.js"></script>
<script>
        $(document).ready(function () {
            $("#question_paragraph").load("/Content/txt/@Session["paragraph"]");
        });
</script>

<script>
    var remSeconds = @timeRemaining;
    var secondsCounter = remSeconds % 60;

    function formatNumber(number) {
        if (number < 10) return '0' + number;
        else return '' + number;
    }

    function startTick() {
        document.getElementById('secRemaining').innerText = formatNumber(secondsCounter);
        document.getElementById('minRemaining').innerText = formatNumber(parseInt(remSeconds / 60));

        var _tick = setInterval(function () {
            if (remSeconds > 0) {
                remSeconds = remSeconds - 1;
                secondsCounter = secondsCounter - 1;
                document.getElementById('secRemaining').innerText = formatNumber(secondsCounter);
                document.getElementById('minRemaining').innerText = formatNumber(parseInt(remSeconds / 60));
                if (secondsCounter == 0)
                    secondsCounter = 60;
            }
            else {
                alert("Thời gian làm bài kiểm tra đã kết thúc !!!");
                clearInterval(_tick);
            }
        },
            1000);
    }
    startTick();
</script>